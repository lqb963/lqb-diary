# 计算机网络和因特网

1. 个人计算机的发展带动了商业、工业、科学、教育的巨大改变，计算机网络的技术也在不断的革新
2. 技术的进步使得通信线路能够`更快、更多`的传输信号
3. 在基础技术的不断成长和突破下，计算机网络领域导致了新技术的产生
4. 在全球各个地方交换文本、音频和视频等数据，在任何时候快速、准确的下载和上传信息

学习目标：

1. 局域网和广域网(LAN 和 WAN)
2. 因特网和互联网
3. TCP/IP 协议族
4. TCP/IP 协议族中的各层以及他们的关系
5. 应用层 以及一些应用
6. 传输层 协议与服务
7. 网络层 协议与服务
8. 数据链路层 协议
9. 物理层的责任
10. 计算机网络中使用的不同传输媒介

## 6.1

因特网：一个将世界上几十亿台计算机互相连接的系统(因特网是一个计算机系统，将多台计算机连接成一个网络)

### 6.1.1 网络

1. 网络：网络是一系列可用于通信的设备链接构成的
   - 设备是一台主机(端系统)：大型计算机、台式机、便携式计算机、手机、安全系统
   - 设备也可以是连接设备：路由器、交换机、调制解调器
2. 局域网(LAN)
   - 几个主机(通信设备)互联的简单私有网络
   - 每台主机在局域网中都有唯一定义的 一个标识符 和一个地址
   - 跨度比较小，通常大小受限制，跨越一个办公室、一座大楼或一个校园
   - 局域网通常是私有的
3. 广域网(WAN)
   - 多个主机(通信设备)互联的网络
   - 广域网将交换机、路由器、调制解调器之类的链接设备互联
   - 跨度比较大，一个州、一个国家、甚至恒快世界
   - 广域网由通信公司创建并运营，租界给使用它的机构
   - 两种广域网:
     - 点对点广域网： 通过传输媒介链接两个通信设备的网络
     - 交换广域网：多个点对点广域网通过开关链接的结合体，交换广域网用于当今全球的通信骨干网
4. 互联网络
   - 如今很难看到独立存在的局域网和广域网了，他们现在都是互相连接的
   - 当两个或多个网络互相链接时，他们构成了一个互联网络 或者叫做网际网
5. [什么是公网 IP?公网 IP 与内网 IP 的区别？](https://zhuanlan.zhihu.com/p/402559611)
   - 内网就是局域网
   - 公网就是广域网
   - 互联网络就是多个广域网互联
   - 网际网是一个或多个通信的网络

### 6.1.2 因特网

网际网是因特网，它由成千上万个互联的网络组成

因特网可以分为三层：骨干网、供应商网络、客户网络

1. 骨干网： 由通信公司所拥有，通过复杂的交换系统互相连接，交换系统被称为网络对等交换点
2. 供应商网络：付费使用骨干网上一些服务，这些供应商网络与骨干网链接，有时也连接其他的供应商网络
3. 客户网络：向供应商网络付费来得到服务，真正使用基于因特网服务的网络
4. 骨干网和供应商网络也被称为因特网服务供应商(ISP)
   - 骨干网：国际因特网服务供应商
   - 供应商网络：国内或地域性因腾王服务供应商
5. [中国 10 大骨干网](https://zhuanlan.zhihu.com/p/165394638)

### 6.1.3 硬件和软件

为了产生通信，我们及需要 软件 也需要 硬件

### 6.1.4 分层协议

1. 计算机之间通过计网进行通信(资源数据交换)，需要保证有效的通信，因此， 因特网中存在大量的通信协议
2. 协议定义了发送器、接收器以及所有中间设备必须遵守以保证有效的通信规则，
3. 当通信变的复杂时，通过分层将通信模块化，将任务分配到不同的协议层中，这种情况下，每个协议层都需要一个协议，或者协议分层

### 6.1.5 TCP/IP 协议族

1. 互联中使用的协议集被称为 TCP/IP 协议族(传输控制协议/网际协议)
2. TCP/IP 协议族是一个分层协议，每一个高层协议都基于一个或多个底层协议提供的服务
3. TCP/IP 协议由五个层次组成
   - 应用层
   - 传输层
   - 网络层
   - 数据链路层
   - 物理层

#### 分层架构

场景 源主机 A -> 交换机 -> 路由器 -> 交换机 -> 目标主机 B

1. 每个设备涉及的层组都由其网络上扮演的角色所涉及的层组决定的
2. 源主机和目标主机都涉及 5 个协议层
   - 源主机需要在应用层中创建消息并将其通过协议层向下发送，这样这条消息才能物理地发送至目标主机
   - 目标主机需要在物理层接收通信并通过其他协议层将其发送至应用层
3. 路由器只涉及三个层： 网络层、数据链路层、物理层
4. 交换机只涉及两个曾： 数据链路层、网络层

#### 地址和数据包名称

1. 任何涉及两方地通信都需要两个地址 `源地址和目标地址`，层组之间逻辑通信也是如此
2. 正常情况下我们只需要四组地址，物理层不需要，因为物理层数据交换地单位是位，这使他无法得到地址
3. 每一层的数据包名称和地址
   - 应用层(消息) 名称(domain)
   - 传输层(段/用户数据报) 端口号(port)
   - 网络层(数据包) 逻辑地址(ip)
   - 数据链路层(帧) 链路层地址(mac)

## 6.2 应用层

应用层是向用户提供服务的，通信由逻辑链接提供

- 逻辑链接：假设两个应用层通过他们之间假象的直接连接发送和接收消息
- 但实际上的通信则通过各种设备和一些物理信道产生的

### 6.2.1 提供服务

1. 应用层位于最高层，不向外提供提供服务，只接收传输层协议的服务，
   - 特点：灵活性高，该层协议可轻易去除，只要有新的协议可以使用传输层中任意一个协议提供的服务，这个协议就可以添加到应用层
   - 应用层的灵活性使得新的协议可以很容易的添加至网络上
   - 如今由于新协议的添加已成为常态，所以很难给出现有协议的具体数目

### 6.2.2 应用层模式

计算机应用程序在网络中进行通信和交互的两种模式：

1. 传统模式：客户机-服务器
   - 服务器提供一个一直运行的应用程序(服务进程)，等待客户端进程的应用程序通过因特网连接请求服务
   - 服务端：一直运行 ，客户端：使用时运行
   - 客户端服务端二者角色是固定的
   - 协议和应用： 万维网(WWW)、HTTP、FTP、SSH、邮件服务
2. 新模式: 端到端模式
   - 一台与网络相连接的计算机可以在一个时间段提供服务又可以在另一个时间段接收服务，深只可以在同一时间提供和接收服务
   - 适用领域：网络电话、内容共享
   - 缺点： 安全性 、 适用性

### 6.2.3 标准客户机 - 服务器应用 万维网和超文本传输协议

1. 万维网
   - web 是信息的存储库，存储库种叫做网页的文档分布在全世界，并且相关的文档都链接在一起(分布式，链接)
   - 今天的 WWW 是一个分布式客户机-服务器服务，提供服务的服务器称为站点，站点存储的一个或多个文档称为网页，网页之间可以通过超链接进行跳转或访问
2. Web 客户端(浏览器)
   - 浏览器：用于解释和显示网页的工具
   - 组成：控制器、客户端协议、解释器
   - 控制器用于接收来自鼠标或键盘的输入，使用客户端程序存取文档，在文档被存储之后，控制器使用解释器在屏幕上显示文档
3. Web 服务器
   - 服务器存储网页，每当请求到达时，相应的文档会发送至客户端
4. 统一资源定位符(URL)
   - 作为网页的唯一标识来将它和其他网页区分开，
   - scheme://domain:port/path?query#hash
5. 超文本传输协议
   - 用来定义如何编写客户机 - 服务器程序以便从网络中检索网页的协议，http 默认端口为 80 https 默认端口为 443

### 6.2.4 文本传输协议 FTP

FTP 是 TCP/IP 提供的标准协议，用于一台计算机复制文件到另一台计算机

### 6.2.5 电子邮件 E-mail

电子邮件 允许客户交换信息

### 6.2.6 TELNET

TELNET 是终端网络(TErminal NETword)的死螃蟹。是早期的远程登录协议之一

### 6.2.7 安全外壳 SSH

安全外壳 SSH 是一个可以用作多个目的(如远程登录和文件传输)的安全应用程序

### 6.2.8 域名系统 DNS

### 域名 以 及域名系统的工作流程

- TCP/IP 协议族使用 ip 地址作为计算机在网络环境中的地址(虚拟地址)
- 但是人们更愿意使用名字而不是数字化的地址，因此，网络需要有一个可以将名称映射到地址上的目录系统
- 域名系统是分布式的
- 将主机名映射到 IP 地址的 6 个步骤
  1. 用户将主机名传递给文件传输客户端 `用户将域名写入浏览器的地址栏`
  2. 文件传输客户端将主机名传递给域名系统客户端 ` 浏览器将 url 传递给 dns 客户端`
  3. 域名系统客户端发送消息和查询给域名系统服务器，查询利用已知的域名系统服务器的 IP 地址命名文件传输服务器,`每台计算机在启动之后会得知一台域名系统服务器的地址, dns 客户端将 url 传递给 dns 系统服务器`
  4. 域名系统服务器给出需要的文件传输服务器的 IP 地址 `dns系统将url的查询结构IP地址返回给dns客户端`
  5. 域名系统客户端将 IP 地址传输给文件传输服务器 `dns客户端将ip地址传输给浏览器`
  6. 文件传输客户端现在使用得到的 IP 地址访问文件传输服务器 `浏览器使用得到的IP地址访问服务器`

#### 命名空间

多级域名

#### 网络中的域名系统

一般域

- .com 商业机构
- .edu 教育机构
- .pro 专业机构

国家域

1. .cn 中国
2. .us 美国

### 6.2.9 端到端模式

Napster 、FastTrack、BitTorrent、WinMX、GNUnet
